<?xml version="1.0" encoding="UTF-8" standalone="no"?><templates><template autoinsert="true" context="java" deleted="false" description="Golden Master - TarifeRunnerTests" enabled="true" name="lc1-gm1">	private PrintStream originalSysOut;&#13;
	private ByteArrayOutputStream consoleStream;&#13;
&#13;
	@Before&#13;
	public void init() {&#13;
		originalSysOut = System.out;&#13;
		consoleStream = new ByteArrayOutputStream();&#13;
		PrintStream printStream = new PrintStream(consoleStream);&#13;
	    System.setOut(printStream);&#13;
	}&#13;
&#13;
	@Test&#13;
	public void testSimpleOutput() {&#13;
		System.out.println("Hallo Publikum!");&#13;
		System.out.print("Hallo Falk!");&#13;
		assertEquals("Hallo Publikum!\r\nHallo Falk!", consoleStream.toString());&#13;
	}&#13;
&#13;
	@After&#13;
	public void teardown() {&#13;
		System.setOut(originalSysOut);&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Golden Master mit Approval Tests" enabled="true" name="lc1-gm2">	@Test&#13;
	public void testRunnerWithApprovals() throws Exception {&#13;
		System.out.println("Hallo Hauskonferenz!");&#13;
		System.out.print("Hallo Falk!");&#13;
//		TarifeRunner.main(null);&#13;
		Approvals.verify(consoleStream.toString());&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Subklasse mit überschriebenem Seam" enabled="true" name="lc2-sc1">	private class TarifeRunnerForTest extends TarifeRunner {&#13;
		@Override&#13;
		protected Random getRandom() {&#13;
			return new Random(42);&#13;
		}&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Test method for pure static function isMondschein" enabled="true" name="lc3-pure1">	@Test&#13;
	public void testMondschein() {&#13;
		assertEquals(true, Kunde.isMondschein(0));&#13;
		assertEquals(true, Kunde.isMondschein(8));&#13;
&#13;
		assertEquals(false, Kunde.isMondschein(9));&#13;
		assertEquals(false, Kunde.isMondschein(12));&#13;
		assertEquals(false, Kunde.isMondschein(17));&#13;
		assertEquals(false, Kunde.isMondschein(18));&#13;
&#13;
		assertEquals(true, Kunde.isMondschein(19));&#13;
		assertEquals(true, Kunde.isMondschein(23));&#13;
		assertEquals(true, Kunde.isMondschein(24));&#13;
		assertEquals(true, Kunde.isMondschein(30));&#13;
		assertEquals(true, Kunde.isMondschein(-1));&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Extract class - StringOutputTests" enabled="true" name="lc5-ec1">	@Test&#13;
	public void testOutputToString() {&#13;
		StringOutputter stringOutput = new StringOutputter();&#13;
		stringOutput.writeLine("hello world");&#13;
		assertEquals("hello world\r\n", stringOutput.toString());&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Extract class - StringOutputter" enabled="true" name="lc5-ec2">	private StringWriter stringWriter = new StringWriter();&#13;
	private PrintWriter printWriter = new PrintWriter(stringWriter);&#13;
	&#13;
	@Override&#13;
	public void writeLine(String message) {&#13;
		printWriter.println(message);&#13;
	}&#13;
	&#13;
	@Override&#13;
	public String toString() {&#13;
		return stringWriter.toString();&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Dependendy Inversion - KundeTests" enabled="true" name="lc6-di1">	@Test&#13;
	public void testAccount() {&#13;
		Outputter stringOutputter = new StringOutputter();&#13;
		Kunde kunde = new Kunde(Tarif.BUSINESS);&#13;
		kunde.setOutputter(stringOutputter);&#13;
		kunde.account(10, 12, 35);&#13;
		assertEquals(&#13;
				"Berechne Gespräch mit 10 min um 12:35 mit Tarif 1\r\n" + "Preis für das Gespräch: 12,90\r\n"&#13;
						+ "Gesamtgebühr nach Gespräch um 12:35 (Mondscheinzeit: false): 12,90\r\n",&#13;
				stringOutputter.toString());&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Dependency Inversion - Kunde Constructor Injection" enabled="true" name="lc6-di2">	public Kunde(int tarifArt, Outputter outputter) {&#13;
		this(tarifArt);&#13;
		this.outputter = outputter;&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Test private methods" enabled="true" name="lc7-pm1">	@Test&#13;
	public void testMondschein() {&#13;
		assertEquals(true, invokeIsMondschein(0));&#13;
		assertEquals(true, invokeIsMondschein(8));&#13;
&#13;
		assertEquals(false, invokeIsMondschein(9));&#13;
		assertEquals(false, invokeIsMondschein(12));&#13;
		assertEquals(false, invokeIsMondschein(17));&#13;
		assertEquals(false, invokeIsMondschein(18));&#13;
&#13;
		assertEquals(true, invokeIsMondschein(19));&#13;
		assertEquals(true, invokeIsMondschein(23));&#13;
		assertEquals(true, invokeIsMondschein(24));&#13;
		assertEquals(true, invokeIsMondschein(30));&#13;
		assertEquals(true, invokeIsMondschein(-1));&#13;
	}&#13;
	&#13;
	private boolean invokeIsMondschein(int hour) {&#13;
		try {&#13;
			Method method = Kunde.class.getDeclaredMethod("isMondschein", Integer.TYPE);&#13;
			method.setAccessible(true);&#13;
			return (boolean) method.invoke(null, hour);&#13;
		} catch (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {&#13;
			e.printStackTrace();&#13;
		}&#13;
		return false;&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Mock for Outputter" enabled="true" name="lc8-mock1">	private Outputter outputterMock;&#13;
&#13;
	@Before&#13;
	public void init() {&#13;
		outputterMock = Mockito.mock(Outputter.class);&#13;
	}&#13;
	&#13;
	@Test&#13;
	public void testAccountWithBusinessTarif() {&#13;
		new Kunde(Tarif.BUSINESS, outputterMock).account(10, 12, 35);&#13;
		verify(outputterMock).writeLine("Berechne Gespräch mit 10 min um 12:35 mit Tarif 1");&#13;
		verify(outputterMock).writeLine("Preis für das Gespräch: 12,90");&#13;
		verify(outputterMock).writeLine("Gesamtgebühr nach Gespräch um 12:35 (Mondscheinzeit: false): 12,90");&#13;
		verifyNoMoreInteractions(outputterMock);&#13;
	}&#13;
</template><template autoinsert="true" context="java" deleted="false" description="Second test with other input tarif" enabled="true" name="lc8-mock2">	@Test&#13;
	public void testAccountWithPrivatTarif() {&#13;
		new Kunde(Tarif.PRIVAT, outputterMock).account(10, 12, 35);&#13;
		verify(outputterMock).writeLine("Berechne Gespräch mit 10 min um 12:35 mit Tarif 0");&#13;
		verify(outputterMock).writeLine("Preis für das Gespräch: 17,91");&#13;
		verify(outputterMock).writeLine("Gesamtgebühr nach Gespräch um 12:35 (Mondscheinzeit: false): 17,91");&#13;
		verifyNoMoreInteractions(outputterMock);&#13;
	}&#13;
</template></templates>